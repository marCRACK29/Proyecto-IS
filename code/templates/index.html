<!-- Pagina HTML para graficar -->

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Grafico de Medicos</title>

    <link rel = "stylesheet" href = "{{ url_for('static', filename='style.css') }}">

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css">
    <script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
</head>
<body>
<h1>Catálogo de Médicos</h1>
<table id="myTable" class="display">
    <thead>
    <tr>
        <th>Nombre</th>
        <th>Especialidad</th>
    </tr>
    </thead>
    <tbody></tbody>
</table>

<script>
    async function fetchMedics() {
        const response = await fetch('/api/medics');
        const data = await response.json();

        // Llenar la tabla con DataTables
        $('#myTable').DataTable({
            data: data,
            columns: [
                { data: 'name' },
                { data: 'speciality' }
            ],
            destroy: true // Asegura que no haya conflictos si vuelves a cargar la tabla
        });
    }

    fetchMedics();
</script>
</body>
</html>